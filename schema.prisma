// database
datasource db {
  provider = "sqlite"
  url      = "file:database.db"
}

// generator
generator client {
  provider  = "prisma-client-py"
  interface = "asyncio"
}

model Server {
  id          Int      @id @unique @default(autoincrement())
  ip_address  String   @unique
  description String
  favicon     String
  version     Version  @relation(fields: [versionId], references: [id])
  players     Player[]
  minmax      Maximum  @relation(fields: [maximumId], references: [id])
  versionId   Int
  maximumId   Int
}

model Player {
  id            Int     @id @unique @default(autoincrement())
  uuid          String
  username      String
  authenticated Boolean
  Server        Server? @relation(fields: [serverId], references: [id])
  serverId      Int?
}

model Version {
  id       Int      @id @unique @default(autoincrement())
  name     String
  protocol Int
  Server   Server[]
}

model Maximum {
  id     Int      @id @unique @default(autoincrement())
  min    String
  max    String
  Server Server[]
}
